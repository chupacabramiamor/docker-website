# Разворачивание контейнеров проекта

### Конфигурация переменных окружения

Переменные окружения для docker-compose хранятся в обычном .env файле корня проекта. Список использующихся переменных можно посмотреть в `./docker/.env.example`

Перед началом, копируем все содержимое в .env-файл. Изменяем настройки соответсвенно нашему рабочему окружению.

**UID** - Идентификатор текущего пользователя в системе
**GID** - Идентификатор группы пользователя в системе
**HTTP_PORT** - Свободный порт на локальном хосте для HTTP
**MYSQL_PORT** - Свободный порт на локальном хосте для MySQL
**CONTAINER_NAME** - Базовое имя контейнеров проекта. Во всех последующих сервисах docker-compose следует указывать имя контейнера как слияние базового имени и названия сервиса через точку. Например: `"${CONTAINER_NAME}.redis"`
**BRANCH** - Необязательная переменная. Указатель актуальной ветки. По-умолчанию установлено в `master`

### Поднятие и запуск

Запуск проекта осуществляется одной командой: `docker-compose up`

### Наполнение контейнеров

Для наполнения используется bash-файл:
```bash
./deploy.sh
```

### Настройки БД

Настройки БД должны быть в контексте сервисов docker-compose и уже указаны в `.env.example`

### Вход в контейнер

Проверяем состояние запуска контейнеров:
```bash
docker ps | grep neosight.bttb
```

Заходим в основной контейнер:
```bash
docker exec -it -u=$(id -u) neosight.bttb sh
```